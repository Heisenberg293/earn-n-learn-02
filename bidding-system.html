
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Bidding System</title>
  <style>
    /* Base styles */
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
      font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Open Sans', sans-serif;
    }
    
    body {
      background-color: #f9fafb;
      color: #111827;
      line-height: 1.5;
    }
    
    .container {
      max-width: 1000px;
      margin: 2rem auto;
      padding: 0 1rem;
    }
    
    .header {
      text-align: center;
      margin-bottom: 2rem;
    }
    
    h1 {
      font-size: 2rem;
      font-weight: 700;
      margin-bottom: 0.5rem;
    }
    
    .subtitle {
      color: #6b7280;
      margin-bottom: 2rem;
    }
    
    /* Card styles */
    .card {
      background-color: white;
      border-radius: 0.5rem;
      box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);
      margin-bottom: 1.5rem;
      overflow: hidden;
    }
    
    .card-header {
      padding: 1.5rem 1.5rem 0.75rem;
      border-bottom: 1px solid #e5e7eb;
    }
    
    .card-title {
      font-size: 1.25rem;
      font-weight: 600;
      display: flex;
      align-items: center;
      gap: 0.5rem;
    }
    
    .card-description {
      color: #6b7280;
      font-size: 0.875rem;
      margin-top: 0.25rem;
    }
    
    .card-content {
      padding: 1.5rem;
    }
    
    /* Tabs */
    .tabs {
      display: flex;
      flex-direction: column;
    }
    
    .tabs-list {
      display: grid;
      grid-template-columns: repeat(3, 1fr);
      gap: 0.5rem;
      margin-bottom: 1rem;
      background-color: #f3f4f6;
      padding: 0.25rem;
      border-radius: 0.5rem;
    }
    
    .tab-trigger {
      padding: 0.5rem;
      text-align: center;
      border-radius: 0.25rem;
      background: transparent;
      border: none;
      cursor: pointer;
      font-size: 0.875rem;
      font-weight: 500;
      color: #6b7280;
    }
    
    .tab-trigger.active {
      background-color: white;
      color: #111827;
      box-shadow: 0 1px 2px rgba(0, 0, 0, 0.05);
    }
    
    .tab-content {
      display: none;
      padding-top: 1rem;
    }
    
    .tab-content.active {
      display: block;
    }
    
    /* Job List */
    .job-list {
      display: grid;
      gap: 1rem;
    }
    
    .job-card {
      border: 1px solid #e5e7eb;
      border-radius: 0.5rem;
      padding: 1rem;
      transition: border-color 0.2s, box-shadow 0.2s;
    }
    
    .job-card:hover {
      border-color: #d1d5db;
      box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);
    }
    
    .job-header {
      display: flex;
      justify-content: space-between;
      align-items: flex-start;
      margin-bottom: 0.5rem;
    }
    
    .job-title {
      font-weight: 600;
      font-size: 1rem;
    }
    
    .badge {
      padding: 0.25rem 0.5rem;
      border-radius: 9999px;
      font-size: 0.75rem;
      font-weight: 500;
    }
    
    .badge-green {
      background-color: #d1fae5;
      color: #065f46;
    }
    
    .badge-blue {
      background-color: #dbeafe;
      color: #1e40af;
    }
    
    .badge-amber {
      background-color: #fef3c7;
      color: #92400e;
    }
    
    .job-description {
      margin-bottom: 0.75rem;
      color: #4b5563;
      font-size: 0.875rem;
    }
    
    .job-meta {
      display: flex;
      flex-wrap: wrap;
      gap: 1rem;
      margin-bottom: 0.75rem;
      font-size: 0.75rem;
      color: #6b7280;
    }
    
    .meta-item {
      display: flex;
      align-items: center;
      gap: 0.25rem;
    }
    
    .skills-list {
      display: flex;
      flex-wrap: wrap;
      gap: 0.5rem;
      margin-top: 0.75rem;
    }
    
    .skill-tag {
      background-color: #f3f4f6;
      padding: 0.25rem 0.5rem;
      border-radius: 0.25rem;
      font-size: 0.75rem;
      color: #374151;
    }
    
    .action-buttons {
      display: flex;
      justify-content: flex-end;
      margin-top: 1rem;
    }
    
    .button {
      padding: 0.5rem 1rem;
      border-radius: 0.25rem;
      font-weight: 500;
      font-size: 0.875rem;
      cursor: pointer;
      border: 1px solid transparent;
      display: inline-flex;
      align-items: center;
      justify-content: center;
      gap: 0.5rem;
    }
    
    .button-primary {
      background-color: #4f46e5;
      color: white;
    }
    
    .button-primary:hover {
      background-color: #4338ca;
    }
    
    .button-secondary {
      background-color: white;
      border-color: #e5e7eb;
      color: #374151;
    }
    
    .button-secondary:hover {
      background-color: #f9fafb;
    }
    
    /* Back button */
    .back-button {
      background: transparent;
      border: none;
      padding: 0;
      width: 2rem;
      height: 2rem;
      display: flex;
      align-items: center;
      justify-content: center;
      cursor: pointer;
      color: #374151;
    }
    
    /* Job Details */
    .detail-section {
      margin-bottom: 1.5rem;
    }
    
    .section-title {
      font-size: 1rem;
      font-weight: 600;
      margin-bottom: 0.75rem;
    }
    
    .detail-row {
      display: flex;
      gap: 1rem;
      margin-bottom: 0.5rem;
    }
    
    .detail-label {
      font-weight: 500;
      width: 8rem;
      color: #4b5563;
    }
    
    .bid-form {
      background-color: #f9fafb;
      padding: 1rem;
      border-radius: 0.5rem;
      margin-top: 1rem;
    }
    
    .form-group {
      margin-bottom: 1rem;
    }
    
    .form-label {
      display: block;
      font-weight: 500;
      font-size: 0.875rem;
      margin-bottom: 0.5rem;
      color: #374151;
    }
    
    .form-input {
      width: 100%;
      padding: 0.5rem;
      border: 1px solid #d1d5db;
      border-radius: 0.25rem;
      font-size: 0.875rem;
    }
    
    .form-input:focus {
      outline: none;
      border-color: #4f46e5;
      box-shadow: 0 0 0 1px #4f46e5;
    }
    
    textarea.form-input {
      min-height: 6rem;
      resize: vertical;
    }
    
    .bid-list {
      margin-top: 1.5rem;
    }
    
    .bid-item {
      border: 1px solid #e5e7eb;
      border-radius: 0.5rem;
      padding: 1rem;
      margin-bottom: 1rem;
    }
    
    .bid-header {
      display: flex;
      justify-content: space-between;
      margin-bottom: 0.5rem;
    }
    
    .bid-amount {
      font-weight: 600;
      color: #4f46e5;
    }
    
    .bid-message {
      font-size: 0.875rem;
      margin-bottom: 0.75rem;
    }
    
    .bid-meta {
      display: flex;
      justify-content: space-between;
      font-size: 0.75rem;
      color: #6b7280;
    }
    
    /* Icons */
    .icon {
      width: 1rem;
      height: 1rem;
    }
    
    /* Responsive adjustments */
    @media (max-width: 640px) {
      .detail-row {
        flex-direction: column;
        gap: 0.25rem;
      }
      
      .detail-label {
        width: auto;
      }
    }
  </style>
</head>
<body>
  <div class="container">
    <div class="header">
      <h1>Bidding Marketplace</h1>
      <p class="subtitle">Find jobs, place bids, and collaborate with others</p>
    </div>
    
    <div class="card">
      <div class="card-header">
        <div class="card-title" id="main-title">
          Bidding Marketplace
        </div>
        <div class="card-description" id="main-description">
          Browse available jobs and place bids
        </div>
      </div>
      <div class="card-content">
        <div id="job-list-view">
          <div class="tabs">
            <div class="tabs-list">
              <button class="tab-trigger active" data-tab="all-jobs">All Jobs</button>
              <button class="tab-trigger" data-tab="my-jobs">My Posted Jobs</button>
              <button class="tab-trigger" data-tab="my-bids">My Bids</button>
            </div>
            
            <div class="tab-content active" id="all-jobs">
              <div class="job-list" id="job-list-container">
                <!-- Jobs will be inserted here from JavaScript -->
              </div>
            </div>
            
            <div class="tab-content" id="my-jobs">
              <div class="job-list" id="my-jobs-container">
                <!-- My jobs will be inserted here from JavaScript -->
              </div>
            </div>
            
            <div class="tab-content" id="my-bids">
              <div class="job-list" id="my-bids-container">
                <!-- Jobs with my bids will be inserted here from JavaScript -->
              </div>
            </div>
          </div>
        </div>
        
        <div id="job-details-view" style="display: none;">
          <div class="detail-section">
            <div class="job-header">
              <button class="back-button" id="back-button">
                <svg class="icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                  <path d="M19 12H5M12 19l-7-7 7-7"/>
                </svg>
              </button>
              <h2 class="section-title" id="job-detail-title"></h2>
              <span class="badge" id="job-detail-status"></span>
            </div>
            <p id="job-detail-description"></p>
          </div>
          
          <div class="detail-section">
            <h3 class="section-title">Job Details</h3>
            <div class="detail-row">
              <span class="detail-label">Budget:</span>
              <span id="job-detail-budget"></span>
            </div>
            <div class="detail-row">
              <span class="detail-label">Deadline:</span>
              <span id="job-detail-deadline"></span>
            </div>
            <div class="detail-row">
              <span class="detail-label">Posted by:</span>
              <span id="job-detail-creator"></span>
            </div>
            <div class="detail-row">
              <span class="detail-label">Required Skills:</span>
              <div class="skills-list" id="job-detail-skills"></div>
            </div>
          </div>
          
          <div class="detail-section" id="place-bid-section">
            <h3 class="section-title">Place a Bid</h3>
            <div class="bid-form">
              <div class="form-group">
                <label class="form-label" for="bid-amount">Bid Amount ($)</label>
                <input type="number" id="bid-amount" class="form-input" min="1" step="0.01">
              </div>
              <div class="form-group">
                <label class="form-label" for="bid-timeframe">Proposed Timeframe</label>
                <input type="text" id="bid-timeframe" class="form-input" placeholder="e.g., 3 days, 1 week">
              </div>
              <div class="form-group">
                <label class="form-label" for="bid-message">Message / Proposal</label>
                <textarea id="bid-message" class="form-input" placeholder="Describe your approach to this job and why you're the best fit"></textarea>
              </div>
              <div class="form-group">
                <label class="form-label">Bid Type</label>
                <div>
                  <input type="radio" id="bid-type-money" name="bid-type" value="money" checked>
                  <label for="bid-type-money">Money</label>
                  <input type="radio" id="bid-type-skill" name="bid-type" value="skill-exchange" style="margin-left: 1rem;">
                  <label for="bid-type-skill">Skill Exchange</label>
                </div>
              </div>
              <div class="form-group" id="skill-offered-group" style="display: none;">
                <label class="form-label" for="skill-offered">Skill Offered</label>
                <input type="text" id="skill-offered" class="form-input" placeholder="e.g., Graphic Design, Website Development">
              </div>
              <button class="button button-primary" id="submit-bid-button">Submit Bid</button>
            </div>
          </div>
          
          <div class="detail-section" id="bids-list-section">
            <h3 class="section-title">Bids (<span id="bid-count">0</span>)</h3>
            <div class="bid-list" id="bids-container">
              <!-- Bids will be inserted here from JavaScript -->
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
  
  <script>
    // Mock data for jobs and bids
    const currentUser = "You";
    
    const mockJobs = [
      {
        id: "job1",
        title: "Website Landing Page Design",
        description: "Need a professional landing page design for a new product launch. Looking for modern, clean design with good conversion optimization.",
        budget: 150,
        deadline: "2023-09-30",
        category: "Design",
        skills: ["UI/UX", "HTML", "CSS", "Figma"],
        creator: "John Smith",
        status: "open",
        bids: [
          {
            id: "bid1",
            jobId: "job1",
            bidder: "You",
            amount: 120,
            message: "I can create a high-converting landing page with modern design principles. I have experience with similar projects.",
            proposedTimeframe: "5 days",
            bidType: "money",
            status: "pending",
            createdAt: "2023-08-15"
          },
          {
            id: "bid2",
            jobId: "job1",
            bidder: "Alice Johnson",
            amount: 140,
            message: "I specialize in landing pages that convert well. Would love to help with your product launch.",
            proposedTimeframe: "4 days",
            bidType: "money",
            status: "pending",
            createdAt: "2023-08-14"
          }
        ],
        createdAt: "2023-08-10"
      },
      {
        id: "job2",
        title: "Data Analysis for Research Project",
        description: "Looking for someone to help analyze survey data for a research project. Need to create visualizations and extract insights.",
        budget: 200,
        deadline: "2023-10-15",
        category: "Data",
        skills: ["Data Analysis", "R", "Python", "Statistics"],
        creator: "Emma Davis",
        status: "open",
        bids: [],
        createdAt: "2023-08-12"
      },
      {
        id: "job3",
        title: "Mobile App UI Redesign",
        description: "Our app needs a UI refresh to align with current design trends. Looking for someone with experience in mobile app design.",
        budget: 300,
        deadline: "2023-09-25",
        category: "Design",
        skills: ["UI/UX", "Mobile Design", "Figma", "Adobe XD"],
        creator: "You",
        status: "open",
        bids: [
          {
            id: "bid3",
            jobId: "job3",
            bidder: "Mark Wilson",
            amount: 280,
            message: "I've redesigned several mobile apps and can help modernize your UI. I have experience with both iOS and Android design guidelines.",
            proposedTimeframe: "10 days",
            bidType: "money",
            status: "pending",
            createdAt: "2023-08-16"
          }
        ],
        createdAt: "2023-08-11"
      },
      {
        id: "job4",
        title: "Essay Editing and Proofreading",
        description: "Need someone to edit and proofread my college application essay (1500 words). Looking for grammar corrections and style improvements.",
        budget: 50,
        deadline: "2023-09-05",
        category: "Writing",
        skills: ["Editing", "Proofreading", "English"],
        creator: "James Lee",
        status: "in-progress",
        bids: [
          {
            id: "bid4",
            jobId: "job4",
            bidder: "Sarah Parker",
            amount: 45,
            message: "I'm an experienced editor with a strong background in academic writing. I can help polish your essay and make it stand out.",
            proposedTimeframe: "2 days",
            bidType: "money",
            status: "accepted",
            createdAt: "2023-08-13"
          }
        ],
        createdAt: "2023-08-12"
      },
      {
        id: "job5",
        title: "JavaScript Tutoring Sessions",
        description: "Looking for a tutor to help me understand advanced JavaScript concepts. Need someone patient who can explain things clearly.",
        budget: 25,
        deadline: "2023-10-30",
        category: "Education",
        skills: ["JavaScript", "Teaching", "Programming"],
        creator: "Carlos Mendez",
        status: "open",
        bids: [],
        createdAt: "2023-08-14"
      }
    ];
    
    // DOM References
    const jobListView = document.getElementById('job-list-view');
    const jobDetailsView = document.getElementById('job-details-view');
    const jobListContainer = document.getElementById('job-list-container');
    const myJobsContainer = document.getElementById('my-jobs-container');
    const myBidsContainer = document.getElementById('my-bids-container');
    const backButton = document.getElementById('back-button');
    const tabTriggers = document.querySelectorAll('.tab-trigger');
    const tabContents = document.querySelectorAll('.tab-content');
    const mainTitle = document.getElementById('main-title');
    const mainDescription = document.getElementById('main-description');
    const submitBidButton = document.getElementById('submit-bid-button');
    
    // Job detail elements
    const jobDetailTitle = document.getElementById('job-detail-title');
    const jobDetailStatus = document.getElementById('job-detail-status');
    const jobDetailDescription = document.getElementById('job-detail-description');
    const jobDetailBudget = document.getElementById('job-detail-budget');
    const jobDetailDeadline = document.getElementById('job-detail-deadline');
    const jobDetailCreator = document.getElementById('job-detail-creator');
    const jobDetailSkills = document.getElementById('job-detail-skills');
    const placeBidSection = document.getElementById('place-bid-section');
    const bidsContainer = document.getElementById('bids-container');
    const bidCount = document.getElementById('bid-count');
    
    // Bid form elements
    const bidAmount = document.getElementById('bid-amount');
    const bidTimeframe = document.getElementById('bid-timeframe');
    const bidMessage = document.getElementById('bid-message');
    const bidTypeMoney = document.getElementById('bid-type-money');
    const bidTypeSkill = document.getElementById('bid-type-skill');
    const skillOfferedGroup = document.getElementById('skill-offered-group');
    const skillOffered = document.getElementById('skill-offered');
    
    // Track current job ID
    let currentJobId = null;
    
    // Helper functions
    function formatDate(dateString) {
      const options = { year: 'numeric', month: 'long', day: 'numeric' };
      return new Date(dateString).toLocaleDateString(undefined, options);
    }
    
    function getStatusBadgeClass(status) {
      switch (status) {
        case 'open': return 'badge-green';
        case 'in-progress': return 'badge-blue';
        case 'completed': return 'badge-amber';
        default: return '';
      }
    }
    
    function getStatusLabel(status) {
      switch (status) {
        case 'open': return 'Open';
        case 'in-progress': return 'In Progress';
        case 'completed': return 'Completed';
        default: return status;
      }
    }
    
    // Render the job list
    function renderJobs(jobs, container) {
      container.innerHTML = '';
      
      if (jobs.length === 0) {
        container.innerHTML = '<p style="text-align: center; color: #6b7280; padding: 2rem 0;">No jobs found</p>';
        return;
      }
      
      jobs.forEach(job => {
        const jobElement = document.createElement('div');
        jobElement.className = 'job-card';
        
        jobElement.innerHTML = `
          <div class="job-header">
            <h3 class="job-title">${job.title}</h3>
            <span class="badge ${getStatusBadgeClass(job.status)}">${getStatusLabel(job.status)}</span>
          </div>
          <p class="job-description">${job.description.substring(0, 120)}${job.description.length > 120 ? '...' : ''}</p>
          <div class="job-meta">
            <div class="meta-item">
              <svg class="icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                <circle cx="12" cy="12" r="10"></circle>
                <polyline points="12 6 12 12 16 14"></polyline>
              </svg>
              <span>Posted ${formatDate(job.createdAt)}</span>
            </div>
            <div class="meta-item">
              <svg class="icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                <rect x="2" y="7" width="20" height="14" rx="2" ry="2"></rect>
                <path d="M16 21V5a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16"></path>
              </svg>
              <span>Budget: $${job.budget}</span>
            </div>
            <div class="meta-item">
              <svg class="icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                <rect x="3" y="4" width="18" height="18" rx="2" ry="2"></rect>
                <line x1="16" y1="2" x2="16" y2="6"></line>
                <line x1="8" y1="2" x2="8" y2="6"></line>
                <line x1="3" y1="10" x2="21" y2="10"></line>
              </svg>
              <span>Deadline: ${formatDate(job.deadline)}</span>
            </div>
            <div class="meta-item">
              <svg class="icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                <path d="M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"></path>
                <circle cx="12" cy="7" r="4"></circle>
              </svg>
              <span>By: ${job.creator}</span>
            </div>
          </div>
          <div class="skills-list">
            ${job.skills.map(skill => `<span class="skill-tag">${skill}</span>`).join('')}
          </div>
          <div class="action-buttons">
            <button class="button button-primary view-job-button" data-job-id="${job.id}">
              View Details ${job.bids.length > 0 ? `(${job.bids.length} bids)` : ''}
            </button>
          </div>
        `;
        
        container.appendChild(jobElement);
      });
      
      // Add event listeners to view job buttons
      document.querySelectorAll('.view-job-button').forEach(button => {
        button.addEventListener('click', function() {
          const jobId = this.getAttribute('data-job-id');
          showJobDetails(jobId);
        });
      });
    }
    
    // Show job details view
    function showJobDetails(jobId) {
      currentJobId = jobId;
      const job = mockJobs.find(j => j.id === jobId);
      
      if (!job) return;
      
      // Update job details
      jobDetailTitle.textContent = job.title;
      jobDetailStatus.textContent = getStatusLabel(job.status);
      jobDetailStatus.className = `badge ${getStatusBadgeClass(job.status)}`;
      jobDetailDescription.textContent = job.description;
      jobDetailBudget.textContent = `$${job.budget}`;
      jobDetailDeadline.textContent = formatDate(job.deadline);
      jobDetailCreator.textContent = job.creator;
      
      // Update skills
      jobDetailSkills.innerHTML = '';
      job.skills.forEach(skill => {
        const skillElement = document.createElement('span');
        skillElement.className = 'skill-tag';
        skillElement.textContent = skill;
        jobDetailSkills.appendChild(skillElement);
      });
      
      // Show/hide bid form based on job creator
      if (job.creator === currentUser) {
        placeBidSection.style.display = 'none';
      } else {
        placeBidSection.style.display = 'block';
        
        // Check if user already placed a bid
        const userBid = job.bids.find(bid => bid.bidder === currentUser);
        if (userBid) {
          submitBidButton.textContent = 'Update Your Bid';
          bidAmount.value = userBid.amount;
          bidTimeframe.value = userBid.proposedTimeframe;
          bidMessage.value = userBid.message;
          if (userBid.bidType === 'skill-exchange') {
            bidTypeSkill.checked = true;
            skillOfferedGroup.style.display = 'block';
            skillOffered.value = userBid.skillOffered || '';
          } else {
            bidTypeMoney.checked = true;
            skillOfferedGroup.style.display = 'none';
          }
        } else {
          // Reset form
          submitBidButton.textContent = 'Submit Bid';
          bidAmount.value = '';
          bidTimeframe.value = '';
          bidMessage.value = '';
          bidTypeMoney.checked = true;
          skillOfferedGroup.style.display = 'none';
          skillOffered.value = '';
        }
      }
      
      // Render bids
      renderBids(job.bids, job.creator === currentUser);
      
      // Switch views
      jobListView.style.display = 'none';
      jobDetailsView.style.display = 'block';
      
      // Update title and description
      mainTitle.innerHTML = `
        <button class="back-button" id="back-to-list">
          <svg class="icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
            <path d="M19 12H5M12 19l-7-7 7-7"/>
          </svg>
        </button>
        Job Details
      `;
      mainDescription.textContent = "View job details and manage bids";
      
      // Back button functionality
      document.getElementById('back-to-list').addEventListener('click', showJobList);
    }
    
    // Render bids for a job
    function renderBids(bids, isJobCreator) {
      bidCount.textContent = bids.length;
      bidsContainer.innerHTML = '';
      
      if (bids.length === 0) {
        bidsContainer.innerHTML = '<p style="text-align: center; color: #6b7280; padding: 1rem 0;">No bids yet for this job</p>';
        return;
      }
      
      bids.forEach(bid => {
        const bidElement = document.createElement('div');
        bidElement.className = 'bid-item';
        
        let actionButtons = '';
        if (isJobCreator && bid.status === 'pending') {
          actionButtons = `
            <div class="action-buttons">
              <button class="button button-primary accept-bid-button" data-bid-id="${bid.id}">Accept Bid</button>
              <button class="button button-secondary reject-bid-button" data-bid-id="${bid.id}" style="margin-left: 0.5rem;">Reject</button>
            </div>
          `;
        }
        
        let bidStatus = '';
        if (bid.status !== 'pending') {
          const statusClass = bid.status === 'accepted' ? 'badge-green' : 'badge-amber';
          const statusLabel = bid.status === 'accepted' ? 'Accepted' : 'Rejected';
          bidStatus = `<span class="badge ${statusClass}">${statusLabel}</span>`;
        }
        
        bidElement.innerHTML = `
          <div class="bid-header">
            <div>
              <span class="bid-amount">$${bid.amount}</span>
              ${bidStatus}
            </div>
            <div>${bid.bidType === 'skill-exchange' ? 'Skill Exchange' : 'Money'}</div>
          </div>
          <p class="bid-message">${bid.message}</p>
          <div class="bid-meta">
            <div>From: ${bid.bidder}</div>
            <div>Timeframe: ${bid.proposedTimeframe}</div>
          </div>
          ${bid.bidType === 'skill-exchange' && bid.skillOffered ? `
            <div style="margin-top: 0.5rem;">
              <span class="detail-label">Skill Offered:</span>
              <span>${bid.skillOffered}</span>
            </div>
          ` : ''}
          ${actionButtons}
        `;
        
        bidsContainer.appendChild(bidElement);
      });
      
      // Add event listeners for accept/reject buttons
      document.querySelectorAll('.accept-bid-button').forEach(button => {
        button.addEventListener('click', function() {
          const bidId = this.getAttribute('data-bid-id');
          acceptBid(bidId);
        });
      });
      
      document.querySelectorAll('.reject-bid-button').forEach(button => {
        button.addEventListener('click', function() {
          const bidId = this.getAttribute('data-bid-id');
          rejectBid(bidId);
        });
      });
    }
    
    // Accept a bid
    function acceptBid(bidId) {
      // Find the job and bid
      const job = mockJobs.find(job => job.id === currentJobId);
      
      if (job) {
        // Update bid status
        job.bids.forEach(bid => {
          if (bid.id === bidId) {
            bid.status = 'accepted';
          } else {
            bid.status = 'rejected';
          }
        });
        
        // Update job status
        job.status = 'in-progress';
        
        // Re-render bids
        renderBids(job.bids, true);
        
        // Update job status display
        jobDetailStatus.textContent = getStatusLabel(job.status);
        jobDetailStatus.className = `badge ${getStatusBadgeClass(job.status)}`;
        
        // Show success message
        alert('Bid accepted successfully! The job is now in progress.');
      }
    }
    
    // Reject a bid
    function rejectBid(bidId) {
      // Find the job and bid
      const job = mockJobs.find(job => job.id === currentJobId);
      
      if (job) {
        // Update bid status
        job.bids.forEach(bid => {
          if (bid.id === bidId) {
            bid.status = 'rejected';
          }
        });
        
        // Re-render bids
        renderBids(job.bids, true);
        
        // Show success message
        alert('Bid rejected.');
      }
    }
    
    // Show job list view
    function showJobList() {
      jobDetailsView.style.display = 'none';
      jobListView.style.display = 'block';
      
      // Reset title and description
      mainTitle.textContent = 'Bidding Marketplace';
      mainDescription.textContent = 'Browse available jobs and place bids';
      
      // Clear current job
      currentJobId = null;
    }
    
    // Handle tab switching
    tabTriggers.forEach(trigger => {
      trigger.addEventListener('click', function() {
        const tabId = this.getAttribute('data-tab');
        
        // Update active tab trigger
        tabTriggers.forEach(t => t.classList.remove('active'));
        this.classList.add('active');
        
        // Update active tab content
        tabContents.forEach(content => {
          content.classList.remove('active');
          if (content.id === tabId) {
            content.classList.add('active');
          }
        });
      });
    });
    
    // Handle bid form type selection
    bidTypeMoney.addEventListener('change', function() {
      if (this.checked) {
        skillOfferedGroup.style.display = 'none';
      }
    });
    
    bidTypeSkill.addEventListener('change', function() {
      if (this.checked) {
        skillOfferedGroup.style.display = 'block';
      }
    });
    
    // Handle bid submission
    submitBidButton.addEventListener('click', function() {
      const job = mockJobs.find(j => j.id === currentJobId);
      
      if (!job) return;
      
      // Validate form
      if (!bidAmount.value || !bidTimeframe.value || !bidMessage.value) {
        alert('Please fill in all required fields');
        return;
      }
      
      if (bidTypeSkill.checked && !skillOffered.value) {
        alert('Please specify the skill you are offering');
        return;
      }
      
      // Check if user already placed a bid
      const existingBidIndex = job.bids.findIndex(bid => bid.bidder === currentUser);
      
      if (existingBidIndex >= 0) {
        // Update existing bid
        job.bids[existingBidIndex] = {
          ...job.bids[existingBidIndex],
          amount: parseFloat(bidAmount.value),
          message: bidMessage.value,
          proposedTimeframe: bidTimeframe.value,
          bidType: bidTypeMoney.checked ? 'money' : 'skill-exchange',
          skillOffered: bidTypeSkill.checked ? skillOffered.value : undefined,
        };
        
        alert('Your bid has been updated successfully!');
      } else {
        // Create new bid
        const newBid = {
          id: `bid${Date.now()}`,
          jobId: job.id,
          bidder: currentUser,
          amount: parseFloat(bidAmount.value),
          message: bidMessage.value,
          proposedTimeframe: bidTimeframe.value,
          bidType: bidTypeMoney.checked ? 'money' : 'skill-exchange',
          status: 'pending',
          createdAt: new Date().toISOString().split('T')[0]
        };
        
        if (bidTypeSkill.checked) {
          newBid.skillOffered = skillOffered.value;
        }
        
        job.bids.push(newBid);
        alert('Your bid has been submitted successfully!');
      }
      
      // Re-render bids
      renderBids(job.bids, job.creator === currentUser);
    });
    
    // Handle back button click
    backButton.addEventListener('click', showJobList);
    
    // Initialize the app
    function initApp() {
      // Render all jobs
      renderJobs(mockJobs, jobListContainer);
      
      // Render my jobs (where current user is creator)
      const myJobs = mockJobs.filter(job => job.creator === currentUser);
      renderJobs(myJobs, myJobsContainer);
      
      // Render jobs with my bids
      const jobsWithMyBids = mockJobs.filter(job => 
        job.bids.some(bid => bid.bidder === currentUser)
      );
      renderJobs(jobsWithMyBids, myBidsContainer);
    }
    
    // Start the app
    initApp();
  </script>
</body>
</html>
